webpackJsonp([4],{Tn9y:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("gyMJ"),s={name:"StockManage",data:function(){var t=this;return{cardList:[],tabList:[],stockDialog:!1,change:!0,stockForm:{number:""},inventory:0,itemInfo:{},rules:{number:[{required:!0,message:"请输入变更数量",trigger:"blur"},{required:!0,validator:function(n,a,e){t.change?e():a>t.inventory?e(new Error("减少量不能多于库存量")):e()},trigger:"blur"}]}}},created:function(){var t=this;e.c.then(function(n){t.tabList=n.data.data,t.cardList=t.tabList.filter(function(t){return"car"==t.category})}).catch(function(t){return t})},methods:{changeTab:function(t){this.cardList=this.tabList.filter(function(n){return n.category==t.$attrs.value})},openDialog:function(t){this.stockDialog=!this.stockDialog,this.itemInfo=t,this.inventory=t.inventory},closeDialog:function(){this.stockDialog=!this.stockDialog},isConfirm:function(){var t=this;this.$refs.stockForm.validate(function(n){if(!n)return!1;t.$confirm("确认提交吗？").then(function(n){t.change||(t.stockForm.number=-t.stockForm.number),t.carStockChg(),t.closeDialog(),t.$message({type:"success",message:"变更成功!"}),t.stockForm.number=""}).catch(function(n){t.closeDialog()})})},carStockChg:function(){var t=this;this.tabList=this.tabList.map(function(n){return n.name==t.itemInfo.name&&(n.inventory+=t.stockForm.number),n}),this.cardList=this.tabList.filter(function(t){return"car"==t.category})}}},i={render:function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"stockManage"},[t._m(0),t._v(" "),a("div",{staticClass:"stockManage-content"},[a("el-tabs",{attrs:{type:"border-card",stretch:""},on:{"tab-click":t.changeTab}},[a("el-tab-pane",{attrs:{label:"轿车",value:"car"}},t._l(t.cardList,function(n,e){return a("div",{key:e,staticClass:"stockManage-content-card"},[a("img",{attrs:{src:n.image,alt:""}}),t._v(" "),a("h4",[t._v(t._s(n.name))]),t._v(" "),a("p",[t._v("库存量:"),a("span",{staticClass:"stockManage-content-span"},[t._v(t._s(n.inventory))]),t._v("辆")]),t._v(" "),a("el-button",{attrs:{type:"warning",round:"",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return t.openDialog(n)}}},[t._v("库存变更")])],1)}),0),t._v(" "),a("el-tab-pane",{attrs:{label:"SUV",value:"suv"}},t._l(t.cardList,function(n,e){return a("div",{key:e,staticClass:"stockManage-content-card"},[a("img",{attrs:{src:n.image,alt:""}}),t._v(" "),a("h4",[t._v(t._s(n.name))]),t._v(" "),a("p",[t._v("库存量:"),a("span",{staticClass:"stockManage-content-span"},[t._v(t._s(n.inventory))]),t._v("辆")]),t._v(" "),a("el-button",{attrs:{type:"warning",round:"",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return t.openDialog(n)}}},[t._v("库存变更")])],1)}),0),t._v(" "),a("el-tab-pane",{attrs:{label:"MPV",value:"mpv"}},t._l(t.cardList,function(n,e){return a("div",{key:e,staticClass:"stockManage-content-card"},[a("img",{attrs:{src:n.image,alt:""}}),t._v(" "),a("h5",[t._v(t._s(n.name))]),t._v(" "),a("p",[t._v("库存量:"),a("span",{staticClass:"stockManage-content-span"},[t._v(t._s(n.inventory))]),t._v("辆")]),t._v(" "),a("el-button",{attrs:{type:"warning",round:"",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return t.openDialog(n)}}},[t._v("库存变更")])],1)}),0),t._v(" "),a("el-tab-pane",{attrs:{label:"跑车",value:"sportscar"}},t._l(t.cardList,function(n,e){return a("div",{key:e,staticClass:"stockManage-content-card"},[a("img",{attrs:{src:n.image,alt:""}}),t._v(" "),a("h4",[t._v(t._s(n.name))]),t._v(" "),a("p",[t._v("库存量:"),a("span",{staticClass:"stockManage-content-span"},[t._v(t._s(n.inventory))]),t._v("辆")]),t._v(" "),a("el-button",{attrs:{type:"warning",round:"",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return t.openDialog(n)}}},[t._v("库存变更")])],1)}),0),t._v(" "),a("el-tab-pane",{attrs:{label:"皮卡",value:"pickup"}},t._l(t.cardList,function(n,e){return a("div",{key:e,staticClass:"stockManage-content-card"},[a("img",{attrs:{src:n.image,alt:""}}),t._v(" "),a("h4",[t._v(t._s(n.name))]),t._v(" "),a("p",[t._v("库存量:"),a("span",{staticClass:"stockManage-content-span"},[t._v(t._s(n.inventory))]),t._v("辆")]),t._v(" "),a("el-button",{attrs:{type:"warning",round:"",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return t.openDialog(n)}}},[t._v("库存变更")])],1)}),0),t._v(" "),a("el-tab-pane",{attrs:{label:"微面",value:"minivan"}},t._l(t.cardList,function(n,e){return a("div",{key:e,staticClass:"stockManage-content-card"},[a("img",{attrs:{src:n.image,alt:""}}),t._v(" "),a("h4",[t._v(t._s(n.name))]),t._v(" "),a("p",[t._v("库存量:"),a("span",{staticClass:"stockManage-content-span"},[t._v(t._s(n.inventory))]),t._v("辆")]),t._v(" "),a("el-button",{attrs:{type:"warning",round:"",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return t.openDialog(n)}}},[t._v("库存变更")])],1)}),0),t._v(" "),a("el-tab-pane",{attrs:{label:"微卡",value:"miniup"}},[0==t.cardList.length?a("div",{staticClass:"stockManage-content-noStock"},[t._v("暂无数据")]):t._e(),t._v(" "),t._l(t.cardList,function(n,e){return a("div",{key:e,staticClass:"stockManage-content-card"},[a("img",{attrs:{src:n.image,alt:""}}),t._v(" "),a("h4",[t._v(t._s(n.name))]),t._v(" "),a("p",[t._v("库存量:"),a("span",{staticClass:"stockManage-content-span"},[t._v(t._s(n.inventory))]),t._v("辆")]),t._v(" "),a("el-button",{attrs:{type:"warning",round:"",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return t.openDialog(n)}}},[t._v("库存变更")])],1)})],2),t._v(" "),a("el-tab-pane",{attrs:{label:"轻客",value:"lightbus"}},t._l(t.cardList,function(n,e){return a("div",{key:e,staticClass:"stockManage-content-card"},[a("img",{attrs:{src:n.image,alt:""}}),t._v(" "),a("h4",[t._v(t._s(n.name))]),t._v(" "),a("p",[t._v("库存量:"),a("span",{staticClass:"stockManage-content-span"},[t._v(t._s(n.inventory))]),t._v("辆")]),t._v(" "),a("el-button",{attrs:{type:"warning",round:"",plain:"",icon:"el-icon-edit-outline"},on:{click:function(a){return t.openDialog(n)}}},[t._v("库存变更")])],1)}),0)],1)],1),t._v(" "),a("div",{staticClass:"stockManage-dialog"},[a("el-dialog",{attrs:{title:"库存变更",visible:t.stockDialog,width:"30%",center:"","before-close":t.closeDialog},on:{"update:visible":function(n){t.stockDialog=n}}},[a("div",{staticClass:"stockManage-dialog-form"},[a("el-form",{ref:"stockForm",attrs:{model:t.stockForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"操作"}},[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"增加","inactive-text":"减少"},model:{value:t.change,callback:function(n){t.change=n},expression:"change"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"变更数量",prop:"number"}},[a("el-input",{attrs:{controls:!1},model:{value:t.stockForm.number,callback:function(n){t.$set(t.stockForm,"number",t._n(n))},expression:"stockForm.number"}})],1)],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeDialog}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.isConfirm}},[t._v("提 交")])],1)])],1)])},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"stockManage-title"},[n("span",{staticClass:"stockManage-title-slashAfter"},[this._v("库存管理")])])}]};var o=a("VU/8")(s,i,!1,function(t){a("z7cz")},"data-v-1ace57e9",null);n.default=o.exports},z7cz:function(t,n){}});
//# sourceMappingURL=4.4c219036ab5c9b56d780.js.map